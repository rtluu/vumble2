(this.webpackJsonpVumble2=this.webpackJsonpVumble2||[]).push([[0],{36:function(e,t,n){e.exports=n(53)},41:function(e,t,n){},42:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(30),s=n.n(o),r=(n(41),n(4)),l=n(5),d=n(7),c=n(6),m=n(8),u=(n(42),n(2)),h=n(11),p=n(12),b=n(31),v=n.n(b),f=n(19);function g(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    margin: 1.5rem 0;\n\n    .waypoint{\n        position: absolute;\n        top: 50%;\n    }\n\n    .post-block{\n        max-width: 50rem;\n        position: relative;\n        width: 100%;\n\n        &.expanded{\n            position: fixed;\n            background: rgba(0,0,0,0.9);\n            z-index: 100;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            max-width: none;\n            width: 100%;\n\n            .post-card{\n                max-width: 72rem;\n                left: 50%;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                width: calc(100% - 4rem);\n                z-index: 3;\n\n                @media (max-width: 40rem) {\n                    width: 100%;\n                }\n\n                .thumbnail-container{\n                    display: none;\n                }\n    \n                .player-container{\n                    position: relative;\n\n                    .player-holder{\n                        div{\n                            transform: translateY(0);\n                            height: 100% !important;\n                            width: 100% !important;\n                        }\n                    }\n                    \n                    .time-box{\n                        display: none;\n                    }\n                }\n                .post-info{\n                    padding: 0.75rem;\n                    .post-title{\n                        font-size: 1.25rem;\n                    }  \n                }\n            } \n        }\n\n        .iframe-blocker{\n            cursor: pointer;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            text-align: left;\n            z-index: 2;\n\n            &:hover{\n                .expand-button{\n                    &.show{\n                        opacity: 1;\n                    }\n                }\n            }\n\n            .expand-button{\n                background: rgba(0,0,0,0.2);\n                border: 0.0675rem solid white;\n                border-radius: 0.25rem;\n                color: white;\n                cursor: pointer;\n                font-size: 0.75rem;\n                font-weight: 700;\n                margin: 0.75rem;\n                opacity: 0;\n                outline: none;\n                position: relative;\n                padding: 0.25rem 0.5rem;\n                transition: all 0.2s;\n\n                &:hover{ \n                    background: rgba(0,0,0,0.8);\n                }\n\n\n                &.hide{\n                    display: none;\n                }\n            }\n        }\n\n        .post-card{\n            background: white;\n            border-radius: 0.25rem;\n            box-shadow: 0 0.0675rem 0.25rem 0 rgba(0,0,0,0.15);\n            position: relative;\n            overflow: hidden;\n            text-align: left;\n\n            .thumbnail-container{\n                overflow: hidden;\n                position: relative;\n                padding-bottom: 56.25%;\n                width: 100%;\n \n                .thumbnail{\n                    bottom: 0;\n                    left: 0;\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    transform: translateY(-12.5%);\n                    width: 100%;\n                }\n            }\n\n            .player-container{\n                cursor: pointer;\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                top: 0;\n                z-index: 1;\n \n                .player-holder{\n                    padding-bottom: 56.25%;\n                    position: relative;\n                    overflow: hidden;\n                    top: 0;\n\n                    &:after{\n                        border-radius: 2rem 0 0 0;\n                        box-shadow: -1rem -1rem 5rem 2rem rgba(0,0,0,0.5);\n                        content: '';\n                        position: absolute;\n                        bottom: 0;\n                        right: 0;\n                        height: 0;\n                        width: 0;\n                        z-index: 2;\n                    }\n                    \n \n                    .player-inner{\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        right: 0;\n                        top: 0;  \n                    }\n                    div{\n                        transform: translateY(-30.005%);\n                        height: 250% !important;\n                        width: 100% !important;\n                    }\n \n                    \n                    .time-box{\n                        bottom: 0;\n                        position: absolute;\n                        padding: 0.25rem;\n                        margin: 0.125rem;\n                        right: 0;\n                        opacity: 0;\n                        z-index: 3;\n                        transition: all 0.2s;\n\n                        &.show{\n                            opacity: 1;\n                        }\n\n                        .time-left{\n                            color: white;\n\n                            .spacer{\n                                display: inline-block;\n                                position: relative;\n                                height: 0.2rem\n                                width: 0.0675rem;\n                            }\n                        }\n                    }\n                }  \n            }\n            .post-info{\n                padding: 0.5rem 0.75rem;\n                \n                .post-title{\n                    margin-bottom: 0.5rem;\n                }\n            }\n        }\n    }\n"]);return g=function(){return e},e}var y=p.a.div(g()),w=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(d.a)(this,Object(c.a)(t).call(this,e))).handleDuration=function(e){n.setState({duration:e})},n.handleProgress=function(e){var t=Math.round(e.playedSeconds),i=n.state.duration-t,a=Math.floor(i/60),o=Math.floor(i%60);o<10&&(o="0"+o),n.setState({minutesLeft:a}),n.setState({secondsLeft:o})};var i=n.props.file.data,a=i.title,o=i.ups,s=i.url,l="";return(l=s.includes(".be/")?s.split(".be/")[1]:s.split("v=")[1]).includes("&")?l=l.split("&")[0]:l.includes("?t")&&(l=l.split("?t")[0]),n.state={isPlaying:!1,isExpanded:!1,muted:!0,volume:0,isReady:!1,vidID:l,title:a,upvotes:o,duration:0,played:0,loaded:0,minutesLeft:"0",secondsLeft:"00"},n.vidReady=n.vidReady.bind(Object(u.a)(n)),n.vidPlay=n.vidPlay.bind(Object(u.a)(n)),n.vidStop=n.vidStop.bind(Object(u.a)(n)),n.expandVideo=n.expandVideo.bind(Object(u.a)(n)),n.closeVideo=n.closeVideo.bind(Object(u.a)(n)),n.handleDuration=n.handleDuration.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"vidReady",value:function(){this.setState({isReady:!0})}},{key:"vidPlay",value:function(){this.setState({isPlaying:!0})}},{key:"vidStop",value:function(){this.setState({isPlaying:!1}),this.setState({volume:0}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"expandVideo",value:function(){this.setState({isExpanded:!0}),this.setState({muted:!1}),this.setState({volume:70}),this.setState({isPlaying:!0})}},{key:"closeVideo",value:function(){this.setState({isExpanded:!1}),this.setState({volume:0}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"render",value:function(){var e={};return this.state.isReady|this.state.isPlaying?(e.button="expand-button show",e.time="time-box show"):(e.button="expand-button",e.time="time-box"),this.state.isExpanded?(e.expand="post-block expanded",e.mouseEnter=void 0,e.mouseLeave=void 0,e.blocker=this.closeVideo,e.button="expand-button hide"):(e.expand="post-block",e.mouseEnter=this.vidPlay,e.mouseLeave=this.vidStop,e.blocker=this.expandVideo),this.props.gridView||(e.mouseEnter=void 0,e.mouseLeave=void 0),a.a.createElement(y,null,!this.props.gridView&&a.a.createElement(f.a,{onEnter:this.vidPlay,bottomOffset:"30%"}),a.a.createElement("div",{className:e.expand},a.a.createElement("div",{className:"iframe-blocker",onMouseEnter:e.mouseEnter,onMouseLeave:e.mouseLeave,onClick:e.blocker},a.a.createElement("button",{className:e.button},"Click to expand w/sound")),a.a.createElement("div",{className:"post-card"},a.a.createElement("div",{className:"thumbnail-container"},a.a.createElement("img",{className:"thumbnail",src:"https://img.youtube.com/vi/"+this.state.vidID+"/0.jpg"})),a.a.createElement("div",{className:"player-container"},a.a.createElement("div",{className:"player-holder"},a.a.createElement("div",{className:"player-inner"},this.state.isPlaying&&a.a.createElement(v.a,{url:"https://www.youtube.com/watch?v="+this.state.vidID,volume:this.state.volume,playing:this.state.isPlaying,controls:!0,muted:this.state.muted,onReady:this.vidReady,onDuration:this.handleDuration,onProgress:this.handleProgress})),a.a.createElement("span",{className:e.time},a.a.createElement("p",{className:"time-left"},"-",a.a.createElement("span",{className:"spacer"}),this.state.minutesLeft,":",this.state.secondsLeft)))),a.a.createElement("div",{className:"post-info"},a.a.createElement("h3",{className:"post-title"},this.state.title),a.a.createElement("h6",{className:"post-votes"},this.state.upvotes," upvotes")))),!this.props.viewList&&a.a.createElement(f.a,{onLeave:this.vidStop,topOffset:"30%"}))}}]),t}(i.Component);function x(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    \n    .grid{\n        display: grid;\n        grid-template-columns: 100%;\n        justify-content: space-evenly;\t\n\n        &.column{\n            grid-template-columns: 30% 30% 30%;\n            grid-gap: 3rem 0;\n\n            @media (max-width: 60rem) {\n                grid-template-columns: 45% 45%;\n                grid-gap: 2.5rem 0;\n            }\n\n            @media (max-width: 40rem) {\n                grid-template-columns: 90%;\n                grid-gap: 2.5rem 0;\n            }\n        }\n    }\n"]);return x=function(){return e},e}var E=p.a.div(x()),k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(c.a)(t).call(this,e))).state={gridView:!0},n.setList=n.setList.bind(Object(u.a)(n)),n.setGrid=n.setGrid.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setList",value:function(){this.setState({gridView:!1})}},{key:"setGrid",value:function(){this.setState({gridView:!0})}},{key:"render",value:function(){var e=this,t={};this.state.gridView?t.class="grid column":t.class="grid";var n=this.props.files;return a.a.createElement(E,null,a.a.createElement("div",{className:"layout-switch"},a.a.createElement("button",{onClick:this.setGrid},"Grid"),a.a.createElement("button",{onClick:this.setList},"List")),a.a.createElement("div",{className:t.class},n.map((function(t){return a.a.createElement(w,{key:t.data.id,file:t,gridView:e.state.gridView})}))))}}]),t}(i.Component),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(c.a)(t).call(this,e))).state={currentSubreddit:"videos",files:[],page:1,after:null,before:null,sort:"hot"},n.url="https://www.reddit.com/r/",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.changeSubreddit(this.state.currentSubreddit)}},{key:"changeSubreddit",value:function(e){var t=this;this.setState({files:[],currentSubreddit:e,page:1}),fetch(this.url+e+"/"+this.state.sort+".json").then((function(e){return e.json()})).then((function(e){t.setState({files:e.data.children,after:e.data.after,before:e.data.before}),window.scrollTo(0,0)})).catch(console.log)}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"Vumble 2")),a.a.createElement("div",null,a.a.createElement(k,{files:this.state.files})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.1c4e38ca.chunk.js.map