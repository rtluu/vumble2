(this.webpackJsonpVumble=this.webpackJsonpVumble||[]).push([[0],{31:function(e,n,t){e.exports=t.p+"static/media/hot.17576659.svg"},39:function(e,n,t){e.exports=t(69)},44:function(e,n,t){},46:function(e,n,t){},56:function(e,n,t){e.exports=t.p+"static/media/upvote.4f6b933c.svg"},57:function(e,n,t){e.exports=t.p+"static/media/comments.a2d27adb.svg"},58:function(e,n,t){e.exports=t.p+"static/media/youtube-logo.3bef7f9b.svg"},59:function(e,n,t){e.exports=t.p+"static/media/reddit-logo.3847fc58.svg"},60:function(e,n,t){e.exports=t.p+"static/media/gfycat-logo.60dffe6b.svg"},61:function(e,n,t){e.exports=t.p+"static/media/vumble-logo.5ab8b2ab.svg"},62:function(e,n,t){e.exports=t.p+"static/media/down-arrow.a9b06a06.svg"},63:function(e,n,t){e.exports=t.p+"static/media/search.96707ef8.svg"},64:function(e,n,t){e.exports=t.p+"static/media/list.e42d3e3d.svg"},65:function(e,n,t){e.exports=t.p+"static/media/grid.24d45ed1.svg"},66:function(e,n,t){e.exports=t.p+"static/media/new.7582d8f0.svg"},67:function(e,n,t){e.exports=t.p+"static/media/top.31ed0e0c.svg"},68:function(e,n,t){e.exports=t.p+"static/media/rising.30f7ea7e.svg"},69:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),r=t(32),o=t.n(r),s=(t(44),t(4)),d=t(5),l=t(9),c=t(6),m=t(1),u=t(10),h=t(7),p=t(33),b=t.n(p),g=(t(46),t(8)),f=t(34),v=t.n(f),w=t(13);function y(){var e=Object(h.a)(["\n    display: flex;\n    align-items: stretch;\n    flex-direction: column;\n    margin: 1.5rem 0;\n\n    .waypoint{\n        position: absolute;\n        top: 50%;\n    }\n\n    .post-block{\n        max-width: 50rem;\n        position: relative;\n        width: 100%;\n\n        &.youtube{\n            .post-card{\n                .thumbnail-container{\n                    .thumbnail{\n                        transform: translateY(-12.5%);\n                    }\n                }\n            }\n        }\n\n        &.reddit{\n        \n        }\n\n        &.gfycat{\n        \n        }\n\n        &.expanded{\n            position: fixed;\n            background: rgba(0,0,0,0.9);\n            z-index: 100;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            max-width: none;\n            width: 100%;\n\n            .post-card{\n                max-width: 72rem;\n                left: 50%;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                width: calc(100% - 4rem);\n                z-index: 3;\n\n                @media (max-width: 40rem) {\n                    width: 100%;\n                }\n\n                .thumbnail-container{\n                    display: none;\n                }\n    \n                .player-container{\n                    position: relative;\n\n                    .player-holder{\n                        div{\n                            transform: translateY(0);\n                            height: 100% !important;\n                            width: 100% !important;\n                        }\n                    }\n                    \n                    .time-box{\n                        display: none;\n                    }\n                }\n                .post-info{\n                    padding: 0.75rem;\n                    .post-title{\n                        font-size: 1.25rem;\n                    }  \n                }\n            } \n        }\n\n        .iframe-blocker{\n            cursor: pointer;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            text-align: left;\n            z-index: 2;\n\n            @media (hover: hover) {\n                &:hover{\n                    .expand-button{\n                        &.show{\n                            opacity: 1;\n                        }\n                    }\n                }\n            }\n\n            @media (hover: none) {\n                .expand-button{\n                    &.show{\n                        opacity: 1;\n                    }\n                }\n            }\n\n            .expand-button{\n                background: rgba(0,0,0,0.2);\n                border: 0.0675rem solid white;\n                border-radius: 0.25rem;\n                color: white;\n                cursor: pointer;\n                font-size: 0.75rem;\n                font-weight: 700;\n                margin: 0.75rem;\n                opacity: 0;\n                outline: none;\n                position: relative;\n                padding: 0.25rem 0.5rem;\n                transition: all 0.2s;\n\n                @media (hover: hover) {\n                    &:hover{ \n                        background: rgba(0,0,0,0.8);\n                    }\n                }\n\n                &.hide{\n                    display: none;\n                }\n            }\n        }\n\n        .post-card{\n            background: white;\n            border-radius: 0.25rem;\n            box-shadow: 0 0.0675rem 0.25rem 0 rgba(0,0,0,0.15);\n            position: relative;\n            overflow: hidden;\n            text-align: left;\n\n            .thumbnail-container{\n                overflow: hidden;\n                position: relative;\n                padding-bottom: 56.25%;\n                width: 100%;\n \n                .thumbnail{\n                    bottom: 0;\n                    left: 0;\n                    position: absolute;\n                    right: 0;\n                    top: 0;                    \n                    width: 100%;\n                }\n            }\n\n            .player-container{\n                cursor: pointer;\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                top: 0;\n                z-index: 1;\n \n                .player-holder{\n                    padding-bottom: 56.25%;\n                    position: relative;\n                    overflow: hidden;\n                    top: 0;\n\n                    &:after{\n                        border-radius: 2rem 0 0 0;\n                        box-shadow: -1rem -1rem 4rem 1.5rem rgba(0,0,0,0.4);\n                        content: '';\n                        position: absolute;\n                        bottom: 0;\n                        right: 0;\n                        height: 0;\n                        width: 0;\n                        z-index: 2;\n                    }\n                    \n \n                    .player-inner{\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        right: 0;\n                        top: 0;  \n                    }\n                    \n                    div{\n                        transform: translateY(-30.005%);\n                        height: 250% !important;\n                        width: 100% !important;\n\n                        video{\n                            background: black;\n                        }\n                    }\n\n                    .time-box{\n                        bottom: 0;\n                        position: absolute;\n                        padding: 0.25rem;\n                        margin: 0.125rem;\n                        right: 0;\n                        opacity: 0;\n                        z-index: 3;\n                        transition: all 0.2s;\n\n                        &.show{\n                            opacity: 1;\n                        }\n\n                        .time-left{\n                            color: white;\n\n                            .spacer{\n                                display: inline-block;\n                                position: relative;\n                                height: 0.2rem\n                                width: 0.0675rem;\n                            }\n                        }\n                    }\n                }  \n            }\n            .post-info{\n                padding: 0.5rem 0.75rem;\n\n                .post-title{\n                    margin-bottom: 0.5rem;\n                }\n\n                .post-data{\n                    align-items: center;\n                    display: flex;\n                    flex-direction: row;\n                    justify-content: space-between;\n                    width: 100%;\n\n                    .data-left{\n                        display: flex;\n                        flex-direction: row;\n\n                        div{\n                            display: flex;\n                            flex-direction: row;\n                            margin-right: 0.675rem;\n                            h6{\n                                color: #D3D3D3;\n                                margin-left: 0.25rem !important;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return y=function(){return e},e}var x=g.a.div(y()),E=function(e){function n(e){var t;Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).handleDuration=function(e){t.setState({duration:e})},t.handleProgress=function(e){var n=Math.round(e.playedSeconds),a=t.state.duration-n,i=Math.floor(a/60),r=Math.floor(a%60);r<10&&(r="0"+r),t.setState({minutesLeft:i}),t.setState({secondsLeft:r})};var a,i=t.props.file.data,r=i.title,o=i.url,d="",u="",h="",p="",b=!1,g=!1,f=!1;(console.log(i),i.ups>1e3)?(6===(w=(1e3*Math.round(i.ups/1e3)).toString()).length?y=w.substring(0,3):5===w.length?y=w.substring(0,2):4===w.length&&(y=w.substring(0,1)),a=y+"K"):a=i.ups;var v,w,y,x=a;i.num_comments>1e3?(6===(w=(1e3*Math.round(i.num_comments/1e3)).toString()).length?y=w.substring(0,3):5===w.length?y=w.substring(0,2):4===w.length&&(y=w.substring(0,1)),v=y+"K"):v=i.num_comments;var E=v;return"youtube.com"===i.domain|"youtu.be"===i.domain|"m.youtube.com"===i.domain&&!i.url.includes("/channel/")&&!i.url.includes("/playlist")&&!i.url.includes("it.")?(b=!0,o.includes(".be/")?u=o.split(".be/")[1]:o.includes("/embed/")?u=o.split("/embed/")[1]:o.includes("v=")&&(u=o.split("v=")[1]),u.includes("&")?u=u.split("&")[0]:u.includes("?t")&&(u=u.split("?t")[0]),h="https://www.youtube.com/watch?v="+u,p="https://img.youtube.com/vi/"+u+"/0.jpg"):"v.redd.it"===i.domain?(g=!0,i.thumbnail&&(i.crosspost_parent?(d=i.crosspost_parent_list[0].preview?i.crosspost_parent_list[0].preview.images[0].source.url:i.thumbnail,h=i.crosspost_parent_list[0].media.reddit_video.fallback_url):(console.log([i]),d=i.preview.images[0]?i.preview.images[0].source.url:i.thumbnail,h=i.media.reddit_video.fallback_url),d=d.split("&amp;").join("&")),p=d):"gfycat.com"===i.domain&&(f=!0,h="https://thumbs.gfycat.com/"+(u=(o=(o=i.crosspost_parent?i.crosspost_parent_list[0].media.oembed.thumbnail_url:i.media.oembed.thumbnail_url).split(".com/")[1]).split("-size")[0])+"-mobile.mp4",p="https://thumbs.gfycat.com/"+u+"-mobile.jpg"),t.state={url:h,thumbnail:p,title:r,upvotes:x,comments:E,isExpanded:!1,isYT:b,isReddit:g,isGfycat:f,isPlaying:!1,muted:!0,isReady:!1,duration:0,played:0,loaded:0,minutesLeft:"0",secondsLeft:"00"},t.vidReady=t.vidReady.bind(Object(m.a)(t)),t.vidPlay=t.vidPlay.bind(Object(m.a)(t)),t.vidStop=t.vidStop.bind(Object(m.a)(t)),t.expandVideo=t.expandVideo.bind(Object(m.a)(t)),t.closeVideo=t.closeVideo.bind(Object(m.a)(t)),t.handleDuration=t.handleDuration.bind(Object(m.a)(t)),t}return Object(u.a)(n,e),Object(d.a)(n,[{key:"vidReady",value:function(){this.setState({isReady:!0})}},{key:"vidPlay",value:function(){this.setState({isPlaying:!0})}},{key:"vidStop",value:function(){this.setState({isPlaying:!1}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"expandVideo",value:function(){this.setState({isExpanded:!0}),this.setState({muted:!1}),this.setState({isPlaying:!0})}},{key:"closeVideo",value:function(){this.setState({isExpanded:!1}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"render",value:function(){var e={};this.state.isReady|this.state.isPlaying?(e.button="expand-button show",e.time="time-box show"):(e.button="expand-button",e.time="time-box"),this.state.isExpanded?(e.expand="post-block expanded",e.mouseEnter=void 0,e.mouseLeave=void 0,e.blocker=this.closeVideo,e.button="expand-button hide"):(e.expand="post-block",e.mouseEnter=this.vidPlay,e.mouseLeave=this.vidStop,e.blocker=this.expandVideo),this.props.gridView||(e.mouseEnter=void 0,e.mouseLeave=void 0);var n,a=t(56),r=t(57);return this.state.isYT?(e.type="youtube",n=t(58)):this.state.isReddit?(e.type="reddit",n=t(59)):this.state.isGfycat&&(e.type="gfycat",n=t(60)),i.a.createElement(x,null,!this.props.gridView&&!this.state.isExpanded&&i.a.createElement(w.a,{onEnter:this.vidPlay,bottomOffset:"30%"}),i.a.createElement("div",{className:e.expand+" "+e.type},i.a.createElement("div",{className:"iframe-blocker",onMouseEnter:e.mouseEnter,onMouseLeave:e.mouseLeave,onClick:e.blocker},i.a.createElement("button",{className:e.button},"Click to expand")),i.a.createElement("div",{className:"post-card"},i.a.createElement("div",{className:"thumbnail-container"},i.a.createElement("img",{className:"thumbnail",src:this.state.thumbnail})),i.a.createElement("div",{className:"player-container"},i.a.createElement("div",{className:"player-holder"},i.a.createElement("div",{className:"player-inner"},this.state.isPlaying&&i.a.createElement(v.a,{url:this.state.url,volume:this.state.volume,playing:this.state.isPlaying,controls:!0,muted:this.state.muted,onReady:this.vidReady,onDuration:this.handleDuration,onProgress:this.handleProgress,playsinline:!0})),i.a.createElement("span",{className:e.time},i.a.createElement("p",{className:"time-left"},"-",i.a.createElement("span",{className:"spacer"}),this.state.minutesLeft,":",this.state.secondsLeft)))),i.a.createElement("div",{className:"post-info"},i.a.createElement("h3",{className:"post-title"},this.state.title),i.a.createElement("div",{className:"post-data"},i.a.createElement("div",{className:"data-left"},i.a.createElement("div",{className:"post-vote"},i.a.createElement("img",{src:a}),i.a.createElement("h6",{className:"vote-count"},this.state.upvotes)),i.a.createElement("div",{className:"post-comments"},i.a.createElement("img",{src:r}),i.a.createElement("h6",{className:"comments-count"},this.state.comments))),i.a.createElement("div",{className:"post-type "+e.type},i.a.createElement("img",{src:n})))))),!this.props.gridView&&!this.state.isExpanded&&i.a.createElement(w.a,{onLeave:this.vidStop,topOffset:"30%"}))}}]),n}(a.Component);function k(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding-top: 1rem;\n    width: 100%;\n    \n    .grid{\n        display: grid;\n        align-items: stretch;\n        grid-template-columns: 100%;\n        justify-content: space-evenly;\t\n        max-width: 72rem;\n        width: 100%;\n\n        &.column{\n            grid-template-columns: 30% 30% 30%;\n            grid-gap: 3rem 0;\n\n            @media (max-width: 60rem) {\n                grid-template-columns: 45% 45%;\n                grid-gap: 2rem 0;\n            }\n\n            @media (max-width: 40rem) {\n                grid-template-columns: 90%;\n                grid-gap: 1rem 0;\n            }\n        }\n    }\n"]);return k=function(){return e},e}var S=g.a.div(k()),N=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={},t}return Object(u.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this,n=this.props.files,t={};return this.props.gridView?t.class="grid column":t.class="grid",i.a.createElement(S,null,i.a.createElement("div",{className:t.class},n.map((function(n){return i.a.createElement(E,{key:n.data.id,file:n,gridView:e.props.gridView})}))),!n.length>0&&i.a.createElement("h2",null,"Loading Videos"))}}]),n}(a.Component);function j(){var e=Object(h.a)(["\n  \n  // Header Styling\n  header{\n    background: #2A2B2A;\n    \n    position: fixed;\n    width: 100%;\n    z-index: 12;\n\n    .header-options{\n      align-items: center;\n      display: flex;\n      box-sizing: border-box;\n      flex-direction: row;\n      justify-content: space-between;\n      padding:  0.75rem 2% 0.75rem 2%;\n      max-width: 72rem;\n      width: 100%;\n\n      @media (max-width: 60rem) {\n        padding:  0.75rem 3.33% 0.75rem 3.33%;\n      }\n\n      @media (max-width: 40rem) {\n        padding:  0.75rem 5% 0.75rem 5%;\n      }\n\n      .logo-holder{\n        @media (max-width: 50rem) {\n          overflow: hidden;\n          max-width: 1.75rem;\n        }\n\n        img{\n          display: block;\n          max-width: 7rem;\n    \n          @media (max-width: 50rem) {\n              max-width: 6rem;\n          }\n        }\n      }\n  \n      .subreddit-container{\n        display: flex;\n        left: 50%;\n        position: absolute;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        max-width: 20rem;\n        width: 50%;\n\n        &.search{\n          .subreddit-holder{\n            .subreddit-dropdown{\n              .search-bar{\n                display: block;\n                border-radius: 0 0.25rem 0.25rem 0;\n                position: relative;\n                pointer-events: all;\n                top: auto;\n                opacity: 1;\n                z-index: 2;\n              }\n              .dropdown-toggle{\n                display: none;\n              }\n            }\n          }\n          .search-toggle{\n            background: white;\n            border: 0.0675rem solid white;\n\n              .search-icon{\n                filter: brightness(0%);\n              }\n          }\n        }\n        \n        .subreddit-holder{\n          align-items: center;\n          background: #F2F2F2;\n          border-radius: 0.25rem;\n          display: flex;\n          flex-direction: row;\n          position: relative;\n          width: 100%;\n\n          .r-slash{\n            background: #C4C4C4;\n            border-radius: 0.25rem 0 0 0.25rem;\n            color: black;\n            height: 100%;\n            padding: 0 0.5rem;\n          }\n\n          .subreddit-dropdown{\n            height: 100%;\n            position: relative;\n            flex-grow: 1;\n\n            .search-bar{\n              height: 100%;\n              position: absolute;\n              pointer-events: none;\n              top: -1000%;\n              opacity: 0;\n              flex-grow: 1;\n  \n              input{\n                box-sizing: border-box;\n                border-radius: 0 0.25rem 0.25rem 0;\n                border: none;\n                height: 100%;\n                outline: none;\n                position: relative;\n                width: 100%;\n                padding: 0 0.375rem !important;\n              }\n\n              .search-icon{\n                height: 1rem;\n                position: absolute;\n                right: 0.375rem;\n                top: 50%;\n                width: 1rem;\n                transform: translateY(-50%);\n              }\n            }\n    \n            .dropdown-toggle{\n              align-items: center;\n              border: none;\n              border-radius: 0 0.25rem 0.25rem 0;\n              display: flex;\n              height: 100%;\n              justify-content: space-between;\n              padding: 0 0.375rem;\n              position: relative;\n              text-align: left;\n              transition: all 0.1s;\n              width: 100%;    \n              z-index: 2;\n    \n              @media (max-width: 50rem) {\n                font-size: 1rem;\n              }\n    \n              @media (hover: hover) {\n                &:hover{\n                  background: white;\n                  color: black;\n    \n                  .down-arrow{\n                    border-color: black;\n                  }\n                }\n              }\n    \n              &.active{\n                background: white;\n                color: black;\n                border-radius: 0 0.25rem 0 0;\n    \n                .down-arrow{\n                  border-color: black;\n                }\n              }\n    \n              .down-arrow{\n                display: inline-block;\n                height: 0.375rem;\n                width: 0.75rem;\n                transition: all 0.1s;\n              }\n\n              .dropdown-menu{\n                min-width: 10rem;\n              }\n            } \n          }\n        }\n\n        .dropdown-menu{\n          background: white;\n          border-radius: 0 0 0.25rem 0.25rem;\n          box-shadow: 0 0.125rem 0.25rem 0 rgba(0,0,0,0.5);\n          display: none;\n          flex-direction: column;\n          position: absolute;\n          width: 100%;\n          z-index: 1;\n\n          &.open{\n            display: flex;\n          }\n\n          .dropdown-item{\n            color: black;\n            padding: 0.5rem;\n            font-size: 1rem;\n\n            @media (hover: hover) {\n              &:hover{\n                background: #2A2B2A;\n                color: white;\n              }\n            }\n          }\n        }\n\n      }\n\n      .menu{\n        border-radius: 50%;\n        cursor: pointer;\n        display: flex;\n        flex-direction: row;\n        padding: 0.75rem 0.25rem;\n\n        @media (hover: hover) {\n          &:hover{ \n              .circle{\n                background: white;\n              }\n          }\n        }\n\n        .circle{\n          align-items: center;\n          background: #C4C4C4;\n          border-radius: 50%;\n          display: block;\n          justify-content: center;\n          height: 0.375rem;\n          margin: 0.1rem;\n          width: 0.375rem;\n          transition: all 0.2s;\n        }\n      }\n    }\n  }\n\n  .filter-bar{\n    background: #2A2B2A;\n    border-top: 0.0675rem solid #333333;\n    display: inline-block;\n    margin-top: 3.75rem;\n    position: relative;\n    width: 100%;\n    z-index: 10;\n\n    @media (max-width: 50rem) {\n      margin-top: 3.5625rem;\n    }\n\n    .filter-container{\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      padding: 0.25rem 0;\n      position: relative;\n\n      .filter{\n        align-items: center;\n        display flex;\n        flex-direction: row;\n        margin: 0 0.75rem;\n        position: relative;\n        \n        h6{\n          color: white;\n          font-size: 0.875rem;\n          font-weight: 600;\n          opacity: 0.2;\n        }\n\n        .layout-switch{\n          display: flex;\n          flex-direction: row;\n          margin-left: 0.675rem;\n\n          &.grid{\n            .grid{\n              opacity: 0.7;\n            }\n          }\n\n          &.list{\n            .list{\n              opacity: 0.7;\n            }\n          }\n\n          button{\n            align-items: center;\n            border: 0;\n            display: flex;\n            justify-content: center;\n            margin: 0 0.1875rem;\n            opacity: 0.25;\n            padding: 0.125rem 0.375rem;\n\n            &.grid{\n              padding: 0.125rem 0.25rem;\n            }\n\n            @media (hover: hover) {\n              &:hover{ \n                opacity: 0.7;\n              }\n            }\n          }\n        }\n\n        .sort-dropdown{\n          margin-left: 0.25rem;\n          \n          .dropdown-toggle{\n            border: 0;\n            opacity: 0.25;\n            padding: 0.125rem 0.5rem;\n            transition: all 0.1s;\n\n            &.active{\n              opacity: 0.7;\n            }\n\n            @media (hover: hover) {\n              &:hover{ \n                opacity: 0.7;\n              }\n            }            \n\n            div{\n              align-items: center;\n              display: flex;\n              img{\n                width: 0.75rem;\n              }\n\n              p{\n                color: white;\n                font-size: 1.125rem;\n                font-weight: 600;\n                margin-left: 0.375rem;\n                text-transform: capitalize;\n              }\n            }\n          }\n          .dropdown-menu{\n            background: white;\n            border-radius: 0.25rem;\n            box-shadow: 0 0.125rem 0.25rem 0 rgba(0,0,0,0.5);\n            display: none;\n            flex-direction: column;\n            position: absolute;\n            width: 100%;\n            z-index: 1;\n      \n            &.open{\n              display: flex;\n            }\n      \n            .dropdown-item{\n              color: black;\n              padding: 0.5rem;\n              font-size: 1rem;\n              text-transform: capitalize;\n      \n              @media (hover: hover) {\n                &:hover{\n                  background: #2A2B2A;\n                  color: white;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      .filter-divider{\n        background: white;\n        height: 1.5rem;\n        margin: 0 0.5rem 0 0.25rem;\n        opacity: 0.1;\n        position: relative;\n        width: 0.0675rem;\n      }\n      \n    }\n\n    \n  }\n\n  // Main Container\n  .main-container{\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n\n    .loading-box{\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n\n      h2{\n        position: relative;\n      }\n    }\n\n    .pagination{\n      display: block;\n      margin: 2rem 0;\n      text-align: center;\n\n      .page-switch{\n        display: inline-block;\n        padding: 1rem;\n        position: relative;\n      }\n    }\n  }\n"]);return j=function(){return e},e}var C=g.a.div(j()),O=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={currentSubreddit:"all",files:[],page:1,after:null,before:null,sort:"hot",subDropdown:!1,searchActive:!1,term:"",gridView:!0,dropdownSort:!1},t.nextPage=function(){fetch(t.url+"r/"+t.state.currentSubreddit+"/"+t.state.sort+".json?count="+25*t.state.page+"&after="+t.state.after).then((function(e){return e.json()})).then((function(e){var n=e.data.children,a=0,i=t.state.files;for(a=0;a<n.length;a++)"youtube.com"===n[a].data.domain|"youtu.be"===n[a].data.domain|"m.youtube.com"===n[a].data.domain&&!n[a].data.url.includes("/channel/")&&!n[a].data.url.includes("/playlist")?i.push(n[a]):"v.redd.it"===n[a].data.domain&&i.push(n[a]);t.setState((function(){return{files:i,after:e.data.after,before:e.data.before,page:t.state.page+1}}))})).catch(console.log)},t.handleClick=function(e){t.node.contains(e.target)||t.closeSearch()},t.handleClick2=function(e){t.node2.contains(e.target)||t.sortDropdownClose()},t.videosSubreddit="videos",t.artisanSubreddit="artisanvideos",t.documentarySubreddit="documentaries",t.haikuSubreddit="youtubehaiku",t.subredditsArray=["mealtimevideos","music","woahdude"],t.url="https://www.reddit.com/",t.sorts=["hot","new","top","rising"],t.subDropdownOpen=t.subDropdownOpen.bind(Object(m.a)(t)),t.subDropdownClose=t.subDropdownClose.bind(Object(m.a)(t)),t.sortDropdownOpen=t.sortDropdownOpen.bind(Object(m.a)(t)),t.sortDropdownClose=t.sortDropdownClose.bind(Object(m.a)(t)),t.nextPage=t.nextPage.bind(Object(m.a)(t)),t.searchActive=t.searchActive.bind(Object(m.a)(t)),t.closeSearch=t.closeSearch.bind(Object(m.a)(t)),t.textInput=null,t.setList=t.setList.bind(Object(m.a)(t)),t.setGrid=t.setGrid.bind(Object(m.a)(t)),t}return Object(u.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.changeSubreddit(this.state.currentSubreddit)}},{key:"changeSubreddit",value:function(e){var n=this;this.setState({files:[],currentSubreddit:e,page:1,subDropdown:!1}),fetch(this.url+"r/"+e+"/"+this.state.sort+".json").then((function(e){return e.json()})).then((function(e){var t=e.data.children,a=0,i=[];for(a=0;a<t.length;a++)"youtube.com"===t[a].data.domain|"youtu.be"===t[a].data.domain|"m.youtube.com"===t[a].data.domain&&!t[a].data.url.includes("/channel/")&&!t[a].data.url.includes("/playlist")?i.push(t[a]):"v.redd.it"===t[a].data.domain?i.push(t[a]):"gfycat.com"===t[a].data.domain&&i.push(t[a]);n.setState({files:i,after:e.data.after,before:e.data.before}),window.scrollTo(0,0)})).catch(console.log),this.subDropdownClose()}},{key:"changeSort",value:function(e){var n=this;this.setState({files:[],sort:e,page:1,subDropdown:!1}),fetch(this.url+"r/"+this.state.currentSubreddit+"/"+e+".json").then((function(e){return e.json()})).then((function(e){var t=e.data.children,a=0,i=[];for(a=0;a<t.length;a++)"youtube.com"===t[a].data.domain|"youtu.be"===t[a].data.domain|"m.youtube.com"===t[a].data.domain&&!t[a].data.url.includes("/channel/")&&!t[a].data.url.includes("/playlist")?i.push(t[a]):"v.redd.it"===t[a].data.domain&&i.push(t[a]);n.setState({files:i,after:e.data.after,before:e.data.before}),window.scrollTo(0,0)})).catch(console.log),this.sortDropdownClose()}},{key:"searchSubreddit",value:function(e){0!==e.length?this.changeSubreddit(e):this.changeSubreddit(this.videosSubreddit)}},{key:"subDropdownOpen",value:function(){this.setState({subDropdown:!0})}},{key:"subDropdownClose",value:function(){this.setState({subDropdown:!1}),this.setState({searchActive:!1})}},{key:"searchActive",value:function(){this.setState({searchActive:!this.state.searchActive}),this.textInput.focus(),document.addEventListener("mousedown",this.handleClick,!1)}},{key:"closeSearch",value:function(){this.setState({searchActive:!1}),this.setState({subDropdown:!1}),document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"sortDropdownOpen",value:function(){this.setState({dropdownSort:!0}),document.addEventListener("mousedown",this.handleClick2,!1)}},{key:"sortDropdownClose",value:function(){this.setState({dropdownSort:!1}),document.removeEventListener("mousedown",this.handleClick2,!1)}},{key:"setList",value:function(){this.setState({gridView:!1})}},{key:"setGrid",value:function(){this.setState({gridView:!0})}},{key:"search",value:function(e){this.setState({term:e}),this.searchSubreddit(e)}},{key:"render",value:function(){var e,n,a=this,r=(b.a.debounce((function(e){a.searchSubreddit(e)}),600),t(61)),o=t(62),s=t(63),d=t(64),l=t(65),c=t(31);if("hot"===this.state.sort?c=t(31):"new"===this.state.sort?c=t(66):"top"===this.state.sort?c=t(67):"rising"===this.state.sort&&(c=t(68)),e=this.state.currentSubreddit===this.videosSubreddit?"videos":this.state.currentSubreddit===this.documentarySubreddit?"documentaries":this.state.currentSubreddit===this.artisanSubreddit?"artisanvideos":this.state.currentSubreddit===this.haikuSubreddit?"youtubehaiku":""+this.state.currentSubreddit,this.state.files.length>0){var m,u=i.a.createElement("button",{className:"next-button",type:"submit",onClick:this.nextPage},"More");m=null===this.state.before&&null!==this.state.after?i.a.createElement("div",null,u):null!==this.state.before&&null!==this.state.after?i.a.createElement("div",{className:"page-switch"},u):i.a.createElement("div",{className:"page-switch"},"That's all the videos we found!"),n=i.a.createElement("div",{className:"main-container"},i.a.createElement(N,{files:this.state.files,gridView:this.state.gridView}),i.a.createElement("div",{className:"pagination"},m))}else n=i.a.createElement("div",{className:"main-container"},i.a.createElement(N,{files:this.state.files,gridView:this.state.gridView}));var h={};this.state.subDropdown?(h.toggleSub="dropdown-toggle active",h.menuSub="dropdown-menu open"):(h.toggleSub="dropdown-toggle",h.menuSub="dropdown-menu"),this.state.dropdownSort?(h.toggleSort="dropdown-toggle active",h.menuSort="dropdown-menu open"):(h.toggleSort="dropdown-toggle",h.menuSort="dropdown-menu");var p={};this.state.searchActive?p.container="subreddit-container search":p.container="subreddit-container";var g={};return this.state.gridView?g.switch="layout-switch grid":g.switch="layout-switch list",i.a.createElement(C,null,i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"header-options"},i.a.createElement("div",{className:"logo-holder"},i.a.createElement("a",{href:"/"},i.a.createElement("img",{alt:"Vumble-Logo",src:r}))),i.a.createElement("div",{className:p.container},i.a.createElement("div",{className:"subreddit-holder"},i.a.createElement("span",{className:"r-slash"},i.a.createElement("h2",null,"r/")),i.a.createElement("div",{className:"subreddit-dropdown",ref:function(e){return a.node=e}},i.a.createElement("button",{className:h.toggleSub,onClick:function(){a.subDropdownOpen(),a.searchActive()},type:"button"},i.a.createElement("h2",null,e),i.a.createElement("img",{className:"down-arrow",src:o})),i.a.createElement("div",{className:"search-bar"},i.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return a.search(e.target.value)},value:this.state.term,name:"search",placeholder:"Start typing...",ref:function(e){return a.textInput=e},autocomplete:"off"}),i.a.createElement("img",{className:"search-icon",src:s})),i.a.createElement("div",{className:h.menuSub},i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){a.changeSubreddit(a.videosSubreddit),a.subDropdownClose()}},"r/videos"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){a.changeSubreddit(a.documentarySubreddit),a.subDropdownClose()}},"r/documentaries"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){a.changeSubreddit(a.artisanSubreddit),a.subDropdownClose()}},"r/artisanvideos"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){a.changeSubreddit(a.haikuSubreddit),a.subDropdownClose()}},"r/youtubehaiku"),this.subredditsArray.map((function(e,n){return i.a.createElement("a",{className:"dropdown-item",key:n,href:"#subChange",onClick:function(){a.changeSubreddit(e),a.subDropdownClose()}},"r/",e)})))))),i.a.createElement("div",{className:"menu"},i.a.createElement("span",{className:"circle"}),i.a.createElement("span",{className:"circle"}),i.a.createElement("span",{className:"circle"})))),i.a.createElement("div",{className:"filter-bar"},i.a.createElement("div",{className:"filter-container"},i.a.createElement("div",{className:"filter"},i.a.createElement("h6",null,"VIEW"),i.a.createElement("div",{className:g.switch},i.a.createElement("button",{className:"grid",onClick:this.setGrid},i.a.createElement("img",{src:l})),i.a.createElement("button",{className:"list",onClick:this.setList},i.a.createElement("img",{src:d})))),i.a.createElement("div",{className:"filter-divider"}),i.a.createElement("div",{className:"filter"},i.a.createElement("h6",null,"SORT"),i.a.createElement("div",{className:"sort-dropdown",ref:function(e){return a.node2=e}},i.a.createElement("button",{className:h.toggleSort,onClick:this.sortDropdownOpen,type:"button"},i.a.createElement("div",null,i.a.createElement("img",{src:c}),i.a.createElement("p",null,this.state.sort))),i.a.createElement("div",{className:h.menuSort,"aria-labelledby":"dropdownMenuButton"},this.sorts.map((function(e,n){return i.a.createElement("a",{className:"dropdown-item",key:n,href:"#subChange",onClick:function(){return a.changeSort(e)}},e)}))))))),n,i.a.createElement("div",{className:"waypoint"}))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.78f4b825.chunk.js.map