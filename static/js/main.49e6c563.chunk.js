(this.webpackJsonpVumble2=this.webpackJsonpVumble2||[]).push([[0],{36:function(e,n,t){e.exports=t(53)},41:function(e,n,t){},42:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(30),r=t.n(o),s=(t(41),t(4)),d=t(5),l=t(9),c=t(6),u=t(1),m=t(10),h=t(7),p=(t(42),t(8)),b=t(31),v=t.n(b),g=t(19);function f(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    margin: 1.5rem 0;\n\n    .waypoint{\n        position: absolute;\n        top: 50%;\n    }\n\n    .post-block{\n        max-width: 50rem;\n        position: relative;\n        width: 100%;\n\n        &.expanded{\n            position: fixed;\n            background: rgba(0,0,0,0.9);\n            z-index: 100;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            max-width: none;\n            width: 100%;\n\n            .post-card{\n                max-width: 72rem;\n                left: 50%;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                width: calc(100% - 4rem);\n                z-index: 3;\n\n                @media (max-width: 40rem) {\n                    width: 100%;\n                }\n\n                .thumbnail-container{\n                    display: none;\n                }\n    \n                .player-container{\n                    position: relative;\n\n                    .player-holder{\n                        div{\n                            transform: translateY(0);\n                            height: 100% !important;\n                            width: 100% !important;\n                        }\n                    }\n                    \n                    .time-box{\n                        display: none;\n                    }\n                }\n                .post-info{\n                    padding: 0.75rem;\n                    .post-title{\n                        font-size: 1.25rem;\n                    }  \n                }\n            } \n        }\n\n        .iframe-blocker{\n            cursor: pointer;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            top: 0;\n            text-align: left;\n            z-index: 2;\n\n            @media (hover: hover) {\n                &:hover{\n                    .expand-button{\n                        &.show{\n                            opacity: 1;\n                        }\n                    }\n                }\n            }\n\n            @media (hover: none) {\n                .expand-button{\n                    &.show{\n                        opacity: 1;\n                    }\n                }\n            }\n\n            .expand-button{\n                background: rgba(0,0,0,0.2);\n                border: 0.0675rem solid white;\n                border-radius: 0.25rem;\n                color: white;\n                cursor: pointer;\n                font-size: 0.75rem;\n                font-weight: 700;\n                margin: 0.75rem;\n                opacity: 0;\n                outline: none;\n                position: relative;\n                padding: 0.25rem 0.5rem;\n                transition: all 0.2s;\n\n                &:hover{ \n                    background: rgba(0,0,0,0.8);\n                }\n\n\n                &.hide{\n                    display: none;\n                }\n            }\n        }\n\n        .post-card{\n            background: white;\n            border-radius: 0.25rem;\n            box-shadow: 0 0.0675rem 0.25rem 0 rgba(0,0,0,0.15);\n            position: relative;\n            overflow: hidden;\n            text-align: left;\n\n            .thumbnail-container{\n                overflow: hidden;\n                position: relative;\n                padding-bottom: 56.25%;\n                width: 100%;\n \n                .thumbnail{\n                    bottom: 0;\n                    left: 0;\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    transform: translateY(-12.5%);\n                    width: 100%;\n                }\n            }\n\n            .player-container{\n                cursor: pointer;\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                top: 0;\n                z-index: 1;\n \n                .player-holder{\n                    padding-bottom: 56.25%;\n                    position: relative;\n                    overflow: hidden;\n                    top: 0;\n\n                    &:after{\n                        border-radius: 2rem 0 0 0;\n                        box-shadow: -1rem -1rem 4rem 1.5rem rgba(0,0,0,0.4);\n                        content: '';\n                        position: absolute;\n                        bottom: 0;\n                        right: 0;\n                        height: 0;\n                        width: 0;\n                        z-index: 2;\n                    }\n                    \n \n                    .player-inner{\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        right: 0;\n                        top: 0;  \n                    }\n                    div{\n                        transform: translateY(-30.005%);\n                        height: 250% !important;\n                        width: 100% !important;\n                    }\n \n                    \n                    .time-box{\n                        bottom: 0;\n                        position: absolute;\n                        padding: 0.25rem;\n                        margin: 0.125rem;\n                        right: 0;\n                        opacity: 0;\n                        z-index: 3;\n                        transition: all 0.2s;\n\n                        &.show{\n                            opacity: 1;\n                        }\n\n                        .time-left{\n                            color: white;\n\n                            .spacer{\n                                display: inline-block;\n                                position: relative;\n                                height: 0.2rem\n                                width: 0.0675rem;\n                            }\n                        }\n                    }\n                }  \n            }\n            .post-info{\n                padding: 0.5rem 0.75rem;\n                \n                .post-title{\n                    margin-bottom: 0.5rem;\n                }\n            }\n        }\n    }\n"]);return f=function(){return e},e}var w=p.a.div(f()),y=function(e){function n(e){var t;Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).handleDuration=function(e){t.setState({duration:e})},t.handleProgress=function(e){var n=Math.round(e.playedSeconds),a=t.state.duration-n,i=Math.floor(a/60),o=Math.floor(a%60);o<10&&(o="0"+o),t.setState({minutesLeft:i}),t.setState({secondsLeft:o})};var a=t.props.file.data,i=a.title,o=a.ups,r=a.url,d="";return(d=r.includes(".be/")?r.split(".be/")[1]:r.includes("/embed/")?r.split("/embed/")[1]:r.split("v=")[1]).includes("&")?d=d.split("&")[0]:d.includes("?t")&&(d=d.split("?t")[0]),t.state={isPlaying:!1,isExpanded:!1,muted:!0,volume:0,isReady:!1,vidID:d,title:i,upvotes:o,duration:0,played:0,loaded:0,minutesLeft:"0",secondsLeft:"00"},t.vidReady=t.vidReady.bind(Object(u.a)(t)),t.vidPlay=t.vidPlay.bind(Object(u.a)(t)),t.vidStop=t.vidStop.bind(Object(u.a)(t)),t.expandVideo=t.expandVideo.bind(Object(u.a)(t)),t.closeVideo=t.closeVideo.bind(Object(u.a)(t)),t.handleDuration=t.handleDuration.bind(Object(u.a)(t)),t}return Object(m.a)(n,e),Object(d.a)(n,[{key:"vidReady",value:function(){this.setState({isReady:!0})}},{key:"vidPlay",value:function(){this.setState({isPlaying:!0})}},{key:"vidStop",value:function(){this.setState({isPlaying:!1}),this.setState({volume:0}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"expandVideo",value:function(){this.setState({isExpanded:!0}),this.setState({muted:!1}),this.setState({volume:70}),this.setState({isPlaying:!0})}},{key:"closeVideo",value:function(){this.setState({isExpanded:!1}),this.setState({volume:0}),this.setState({muted:!0}),this.setState({isReady:!1})}},{key:"render",value:function(){var e={};return this.state.isReady|this.state.isPlaying?(e.button="expand-button show",e.time="time-box show"):(e.button="expand-button",e.time="time-box"),this.state.isExpanded?(e.expand="post-block expanded",e.mouseEnter=void 0,e.mouseLeave=void 0,e.blocker=this.closeVideo,e.button="expand-button hide"):(e.expand="post-block",e.mouseEnter=this.vidPlay,e.mouseLeave=this.vidStop,e.blocker=this.expandVideo),this.props.gridView||(e.mouseEnter=void 0,e.mouseLeave=void 0),i.a.createElement(w,null,!this.props.gridView&&i.a.createElement(g.a,{onEnter:this.vidPlay,bottomOffset:"30%"}),i.a.createElement("div",{className:e.expand},i.a.createElement("div",{className:"iframe-blocker",onMouseEnter:e.mouseEnter,onMouseLeave:e.mouseLeave,onClick:e.blocker},i.a.createElement("button",{className:e.button},"Click to expand w/sound")),i.a.createElement("div",{className:"post-card"},i.a.createElement("div",{className:"thumbnail-container"},i.a.createElement("img",{className:"thumbnail",src:"https://img.youtube.com/vi/"+this.state.vidID+"/0.jpg"})),i.a.createElement("div",{className:"player-container"},i.a.createElement("div",{className:"player-holder"},i.a.createElement("div",{className:"player-inner"},this.state.isPlaying&&i.a.createElement(v.a,{url:"https://www.youtube.com/watch?v="+this.state.vidID,volume:this.state.volume,playing:this.state.isPlaying,controls:!0,muted:this.state.muted,onReady:this.vidReady,onDuration:this.handleDuration,onProgress:this.handleProgress})),i.a.createElement("span",{className:e.time},i.a.createElement("p",{className:"time-left"},"-",i.a.createElement("span",{className:"spacer"}),this.state.minutesLeft,":",this.state.secondsLeft)))),i.a.createElement("div",{className:"post-info"},i.a.createElement("h3",{className:"post-title"},this.state.title),i.a.createElement("h6",{className:"post-votes"},this.state.upvotes," upvotes")))),!this.props.viewList&&i.a.createElement(g.a,{onLeave:this.vidStop,topOffset:"30%"}))}}]),n}(a.Component);function S(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    \n    .grid{\n        display: grid;\n        grid-template-columns: 100%;\n        justify-content: space-evenly;\t\n\n        &.column{\n            grid-template-columns: 30% 30% 30%;\n            grid-gap: 3rem 0;\n\n            @media (max-width: 60rem) {\n                grid-template-columns: 45% 45%;\n                grid-gap: 2rem 0;\n            }\n\n            @media (max-width: 40rem) {\n                grid-template-columns: 90%;\n                grid-gap: 1rem 0;\n            }\n        }\n    }\n"]);return S=function(){return e},e}var k=p.a.div(S()),x=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={gridView:!0},t.setList=t.setList.bind(Object(u.a)(t)),t.setGrid=t.setGrid.bind(Object(u.a)(t)),t}return Object(m.a)(n,e),Object(d.a)(n,[{key:"setList",value:function(){this.setState({gridView:!1})}},{key:"setGrid",value:function(){this.setState({gridView:!0})}},{key:"render",value:function(){var e=this,n={};this.state.gridView?n.class="grid column":n.class="grid";var t=this.props.files;return i.a.createElement(k,null,i.a.createElement("div",{className:"layout-switch"},i.a.createElement("button",{onClick:this.setGrid},"Grid"),i.a.createElement("button",{onClick:this.setList},"List")),i.a.createElement("div",{className:n.class},t.map((function(n){return i.a.createElement(y,{key:n.data.id,file:n,gridView:e.state.gridView})}))))}}]),n}(a.Component);function E(){var e=Object(h.a)(["\n  header{\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 2rem 2.5%;\n    position: relative;\n    z-index: 5;\n\n    @media (max-width: 60rem) {\n        margin: 2rem 3.33%;\n    }\n\n    @media (max-width: 40rem) {\n        margin: 1rem 5%;\n    }\n\n    .headline{\n      position: absolute;\n      left: 50%;\n      transform: translate(-50%);\n    }\n\n\n    .sub-sort{\n      display: inline-block;\n      position: relative;\n      \n      .dropdown{\n        position: relative;\n\n        .dropdown-toggle{\n          align-items: center;\n          display: flex;\n          justify-content: center;\n          font-size: 1.125rem;\n          transition: all 0.1s;\n\n          @media (hover: hover) {\n            &:hover{\n              background: black;\n              color: white;\n\n              .down-arrow{\n                border-color: white;\n              }\n            }\n          }\n\n          &.active{\n            background: black;\n            color: white;\n\n            .down-arrow{\n              border-color: white;\n            }\n          }\n\n          .down-arrow{\n            box-sizing: border-box;\n            border-style: solid;\n            border-color: black;\n            border-width: 0 0.125rem 0.125rem 0;\n            display: inline-block;\n            height: 0.5rem;\n            margin-left: 0.25rem;\n            transform: rotate(45deg) translateY(-0.0675rem);\n            width: 0.5rem;\n            transition: all 0.1s;\n          }\n        }\n    \n        .dropdown-menu{\n          background: white;\n          border-radius: 0.25rem;\n          box-shadow: 0 0.125rem 0.25rem 0 rgba(0,0,0,0.5);\n          display: none;\n          flex-direction: column;\n          position: absolute;\n\n          &.open{\n            display: flex;\n          }\n\n          .dropdown-item{\n            color: black;\n            padding: 0.5rem;\n            font-size: 1.125rem;\n\n            @media (hover: hover) {\n              &:hover{\n                background: black;\n                color: white;\n              }\n            }\n          }\n        } \n      }\n    }\n  }\n"]);return E=function(){return e},e}var j=p.a.div(E()),O=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={currentSubreddit:"videos",files:[],page:1,after:null,before:null,sort:"hot",dropdownOpen:!1},t.videosSubreddit="videos",t.artisanSubreddit="artisanvideos",t.documentarySubreddit="documentaries",t.haikuSubreddit="youtubehaiku",t.subredditsArray=["mealtimevideos","music","woahdude"],t.url="https://www.reddit.com/",t.sorts=["hot","new","top","controversial","rising"],t.dropdownToggle=t.dropdownToggle.bind(Object(u.a)(t)),t}return Object(m.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.changeSubreddit(this.state.currentSubreddit)}},{key:"changeSubreddit",value:function(e){var n=this;this.setState({files:[],currentSubreddit:e,page:1,dropdownOpen:!1}),fetch(this.url+"r/"+e+"/"+this.state.sort+".json").then((function(e){return e.json()})).then((function(e){var t=e.data.children,a=0,i=[];for(a=0;a<t.length;a++)"youtube.com"===t[a].data.domain|"youtu.be"===t[a].data.domain|"m.youtube.com"===t[a].data.domain&&!t[a].data.url.includes("/channel/")&&!t[a].data.url.includes("/playlist")?i.push(t[a]):console.log(t[a]);n.setState({files:i,after:e.data.after,before:e.data.before}),window.scrollTo(0,0)})).catch(console.log)}},{key:"changeSort",value:function(e){var n=this;this.setState({files:[],sort:e,page:1,dropdownOpen:!1}),fetch(this.url+this.state.currentSubreddit+"/"+e+".json").then((function(e){return e.json()})).then((function(e){var t=e.data.children,a=0,i=[];for(a=0;a<t.length;a++)"youtube.com"===t[a].data.domain|"youtu.be"===t[a].data.domain|"m.youtube.com"===t[a].data.domain&&!t[a].data.url.includes("/channel/")&&!t[a].data.url.includes("/playlist")&&i.push(t[a]);n.setState({files:e.data.children,after:e.data.after,before:e.data.before}),window.scrollTo(0,0)})).catch(console.log)}},{key:"searchSubreddit",value:function(e){0!==e.length?this.changeSubreddit(e):this.changeSubreddit(this.videosSubreddit)}},{key:"dropdownToggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e,n=this;e=this.state.currentSubreddit===this.videosSubreddit?"Videos":this.state.currentSubreddit===this.documentarySubreddit?"Documentaries":this.state.currentSubreddit===this.artisanSubreddit?"Artisan Videos":this.state.currentSubreddit===this.haikuSubreddit?"YouTube Haiku":""+this.state.currentSubreddit;var t={};return this.state.dropdownOpen?(t.toggle="dropdown-toggle active",t.menu="dropdown-menu open"):(t.toggle="dropdown-toggle",t.menu="dropdown-menu"),i.a.createElement(j,null,i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"headline"},"Vumble"),i.a.createElement("div",{className:"sub-sort"},i.a.createElement("div",{className:"dropdown"},i.a.createElement("button",{className:t.toggle,onClick:this.dropdownToggle,type:"button"},"r/",e,i.a.createElement("span",{className:"down-arrow"})),i.a.createElement("div",{className:t.menu},i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){return n.changeSubreddit(n.videosSubreddit)}},"r/videos"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){return n.changeSubreddit(n.documentarySubreddit)}},"r/documentaries"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){return n.changeSubreddit(n.artisanSubreddit)}},"r/artisanvideos"),i.a.createElement("a",{className:"dropdown-item",href:"#subChange",onClick:function(){return n.changeSubreddit(n.haikuSubreddit)}},"r/youtubehaiku"),this.subredditsArray.map((function(e,t){return i.a.createElement("a",{className:"dropdown-item",key:t,href:"#subChange",onClick:function(){return n.changeSubreddit(e)}},"r/",e)})))))),i.a.createElement("div",null,i.a.createElement(x,{files:this.state.files})))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.49e6c563.chunk.js.map